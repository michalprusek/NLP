{
  "timestamp": "20251229_110216",
  "method": "InvBO Decoder",
  "args": {
    "instructions": "datasets/inversion/instructions_100.txt",
    "grid": "datasets/inversion/grid_100_qend.jsonl",
    "validation": "hbbops_improved_2/data/validation.json",
    "ape_cache": "datasets/inversion/diverse_instructions_1000.json",
    "skip_ape": false,
    "iterations": 5,
    "skip_eval": false,
    "gp_epochs": 1000,
    "decoder_epochs": 1000,
    "latent_dim": 10,
    "lambda_cycle": 1.0,
    "lambda_embedding": 0.5,
    "tolerance": 0.1,
    "use_vae": true,
    "vae_beta": 0.01,
    "vae_epochs": 1000,
    "vae_annealing": 800,
    "vae_patience": 100,
    "trust_region": false,
    "tr_initial": 0.5,
    "tr_min": 0.05,
    "tr_max": 2.0,
    "n_candidates": 500,
    "use_inversion": true,
    "max_inversion_iters": 3,
    "gap_threshold": 0.1,
    "vec2text_steps": 50,
    "vec2text_beam": 4,
    "retrain_interval": 1,
    "retrain_epochs": 500,
    "visualize": false,
    "model": "Qwen/Qwen2.5-7B-Instruct",
    "eval_samples": 200,
    "save": null,
    "load": null,
    "validate_gap": false,
    "gap_samples": 10,
    "device": "cuda"
  },
  "grid_best": {
    "instruction_id": 96,
    "error_rate": 0.10765731334686279
  },
  "optimized": {
    "instruction": "If this problem were a math test, what would you write as the answer?",
    "error_rate": 0.10765731334686279
  },
  "iteration_history": [
    {
      "iteration": 1,
      "instruction": "Compute the result, determine the number, and try to figure it out. Now, provide the solution to the question straight away. See figure.",
      "cosine_similarity": 0.8982435464859009,
      "predicted_error": 0.18894447451589258,
      "actual_error": 0.11499999999999999,
      "gap": 0.024035751819610596,
      "log_ei": -4798.107853017877,
      "improved": false,
      "best_error_so_far": 0.10765731334686279,
      "trust_region_radius": null,
      "gp_samples": 101
    },
    {
      "iteration": 2,
      "instruction": "I'm looking for, I want to present the solution in the first place. Compute the number, figure it out, and complete the task",
      "cosine_similarity": 0.8894226551055908,
      "predicted_error": 0.18421118206717324,
      "actual_error": 0.135,
      "gap": 0.06839853525161743,
      "log_ei": -571.5990845153784,
      "improved": false,
      "best_error_so_far": 0.10765731334686279,
      "trust_region_radius": null,
      "gp_samples": 102
    },
    {
      "iteration": 3,
      "instruction": "Proceed the solution in the first place, make sure you understand the problem and figure out how to get your answer. Examining the answer clearly",
      "cosine_similarity": 0.9005155563354492,
      "predicted_error": 0.19457371481365904,
      "actual_error": 0.125,
      "gap": 0.022986531257629395,
      "log_ei": -45.41501558049159,
      "improved": false,
      "best_error_so_far": 0.10765731334686279,
      "trust_region_radius": null,
      "gp_samples": 103
    },
    {
      "iteration": 4,
      "instruction": "Think in earnest to see the problem in detail, and make sure your answer is correct. If you want to figure out your solution for the next question",
      "cosine_similarity": 0.8799378871917725,
      "predicted_error": 0.1824208355198902,
      "actual_error": 0.15000000000000002,
      "gap": 0.0442386269569397,
      "log_ei": -25.431742086654356,
      "improved": false,
      "best_error_so_far": 0.10765731334686279,
      "trust_region_radius": null,
      "gp_samples": 104
    },
    {
      "iteration": 5,
      "instruction": "  , Let's solve          ",
      "cosine_similarity": 0.9024366140365601,
      "predicted_error": 0.19776793035955365,
      "actual_error": 0.135,
      "gap": 0.16089779138565063,
      "log_ei": -7.531794819724109,
      "improved": false,
      "best_error_so_far": 0.10765731334686279,
      "trust_region_radius": null,
      "gp_samples": 105
    }
  ],
  "improvement": 0.0,
  "vae_quality_metrics": {
    "cosine_mean": 0.9128404855728149,
    "cosine_std": 0.03460917994379997,
    "cosine_min": 0.7807943820953369,
    "cosine_max": 0.9840001463890076,
    "mse_mean": 0.00022697790700476617,
    "mse_std": 9.012806549435481e-05,
    "l2_relative_error": 0.40898945927619934,
    "latent_norm_mean": 3.1332204341888428,
    "latent_norm_std": 0.5269225835800171,
    "latent_var_mean": 1.0079008340835571,
    "latent_var_min": 0.929648756980896,
    "latent_var_max": 1.0786378383636475,
    "active_dims": 10,
    "total_dims": 10,
    "kld_mean": 10.835809707641602,
    "kld_std": 1.4616326093673706,
    "posterior_collapsed": false
  }
}