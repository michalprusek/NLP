{
  "timestamp": "20251229_102921",
  "method": "COWBOYS (instruction-only)",
  "args": {
    "instructions": "datasets/cowboys/instructions_100.txt",
    "grid_path": "/home/prusek/NLP/datasets/cowboys/grid_100_qend.jsonl",
    "validation": "hbbops_improved_2/data/validation.json",
    "model": "Qwen/Qwen2.5-7B-Instruct",
    "backend": "vllm",
    "skip_eval": false,
    "mcmc_steps": 500,
    "mcmc_beta": 0.1,
    "mcmc_chains": 5,
    "mcmc_warmup": 50,
    "mcmc_thinning": 10,
    "mcmc_adapt_beta": true,
    "tr_initial": 1.0,
    "tr_min": 0.1,
    "tr_max": 5.0,
    "tr_expand": 2.0,
    "tr_contract": 0.5,
    "trust_region": false,
    "retrain_interval": 10,
    "retrain_method": "rank",
    "retrain_epochs": 50,
    "no_retrain": false,
    "top_k": 25,
    "latent_dim": 32,
    "vae_epochs": 3000,
    "vae_lr": 0.001,
    "vae_patience": 30,
    "vae_cycle_weight": 2.0,
    "gp_epochs": 3000,
    "v2t_beam": 8,
    "v2t_max_length": 512,
    "v2t_no_repeat_ngram": 3,
    "v2t_repetition_penalty": 1.2,
    "max_decode": 20,
    "iterations": 5,
    "ape_instructions": 1000,
    "ape_cache": "/home/prusek/NLP/datasets/cowboys/diverse_instructions_1000.json",
    "skip_ape": false,
    "regenerate_ape": false,
    "output_dir": "generation/cowboys_vec2text/results",
    "debug": false,
    "visualize": false
  },
  "grid_best": {
    "instruction_id": 96,
    "instruction": "If this problem were a math test, what would you write as the answer?",
    "error_rate": 0.10765731614859742
  },
  "optimized": {
    "instruction": "If this problem were a math test, what would you write as the answer?",
    "error_rate": 0.10765731614859742
  },
  "iteration_history": [
    {
      "iteration": 1,
      "instruction": "Solve. Find the solution.",
      "cosine_similarity": 0.8190087676048279,
      "log_ei": -1.8340705633163452,
      "error_rate": 0.14253222137983323,
      "improved": false,
      "best_error_so_far": 0.10765731614859742,
      "mcmc_accept_rate": 0.4,
      "trust_region_radius": null,
      "gp_pred_z_opt": 0.13295845890673808,
      "gp_pred_z_inv": 0.14227868285023293,
      "gap_z_opt": 0.00957376247309516,
      "gap_z_inv": 0.00025353852960030565,
      "decoder_inversion_cosine": 0.9334481954574585
    },
    {
      "iteration": 2,
      "instruction": "Solve the problem or find a solution to a complex problem with the range of options to solve the problem.",
      "cosine_similarity": 0.80559241771698,
      "log_ei": -3.0139520168304443,
      "error_rate": 0.155420773313116,
      "improved": false,
      "best_error_so_far": 0.10765731614859742,
      "mcmc_accept_rate": 0.2224,
      "trust_region_radius": null,
      "gp_pred_z_opt": 0.12109739705273981,
      "gp_pred_z_inv": 0.15674397745508983,
      "gap_z_opt": 0.03432337626037618,
      "gap_z_inv": 0.0013232041419738438,
      "decoder_inversion_cosine": 0.8814295530319214
    },
    {
      "iteration": 3,
      "instruction": "Break down the problem into its component parts and help identify the solution.",
      "cosine_similarity": 0.8219205141067505,
      "log_ei": -2.1165449619293213,
      "error_rate": 0.1713419257012888,
      "improved": false,
      "best_error_so_far": 0.10765731614859742,
      "mcmc_accept_rate": 0.3004,
      "trust_region_radius": null,
      "gp_pred_z_opt": 0.13839396952158456,
      "gp_pred_z_inv": 0.1699674927996283,
      "gap_z_opt": 0.03294795617970425,
      "gap_z_inv": 0.001374432901660505,
      "decoder_inversion_cosine": 0.9291018843650818
    },
    {
      "iteration": 4,
      "instruction": "The Student would use the following solution to find the solution of their triangle. Solution = 0 + 0 = 360 + 360 = 180 Solution = THE ANIMAL Solution =",
      "cosine_similarity": 0.7895081043243408,
      "log_ei": -2.8340799808502197,
      "error_rate": 0.39423805913570886,
      "improved": false,
      "best_error_so_far": 0.10765731614859742,
      "mcmc_accept_rate": 0.418,
      "trust_region_radius": null,
      "gp_pred_z_opt": 0.12949984340178022,
      "gp_pred_z_inv": 0.35619951195009136,
      "gap_z_opt": 0.26473821573392864,
      "gap_z_inv": 0.0380385471856175,
      "decoder_inversion_cosine": 0.83658766746521
    },
    {
      "iteration": 5,
      "instruction": "(Note: Calculate the final result of the equation if it is NOT CHECKED.) 4.2 - OFFSHARE (notice: Determine the final value of the calculated result) 4.7 - ALTERNATIVE (calculate the net result from the original solution)",
      "cosine_similarity": 0.7844092845916748,
      "log_ei": -2.4155778884887695,
      "error_rate": 0.1448066717210008,
      "improved": false,
      "best_error_so_far": 0.10765731614859742,
      "mcmc_accept_rate": 0.7024,
      "trust_region_radius": null,
      "gp_pred_z_opt": 0.15011783891169284,
      "gp_pred_z_inv": 0.14510544886120336,
      "gap_z_opt": 0.005311167190692023,
      "gap_z_inv": 0.0002987771402025441,
      "decoder_inversion_cosine": 0.8590326309204102
    }
  ],
  "improvement": 0.0,
  "vae_best_cosine": 0.8819339871406555,
  "vae_quality_metrics": {
    "cosine_mean": 0.9272911548614502,
    "cosine_std": 0.03831113502383232,
    "cosine_min": 0.6431363821029663,
    "cosine_max": 0.9826231598854065,
    "mse_mean": 0.00018934615945909172,
    "mse_std": 9.97685783659108e-05,
    "l2_relative_error": 0.37088268995285034,
    "latent_norm_mean": 1.452958583831787,
    "latent_norm_std": 0.14961199462413788,
    "latent_var_mean": 0.0511036291718483,
    "latent_var_min": 0.03486201912164688,
    "latent_var_max": 0.0759536623954773,
    "active_dims": 32,
    "kld_mean": 135.33250427246094,
    "kld_std": 5.543795108795166,
    "posterior_collapsed": false
  }
}