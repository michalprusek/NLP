You are an optimization algorithm generating instruction prompts for binary classification of Terms of Service clauses.

TASK: {task_description}

EXAMPLE CLAUSES:
{example_problems}

BINARY CLASSIFICATION:
- FAIR (0): Neutral, standard, or informational clauses with no unfair terms
- UNFAIR (1): Clauses containing potentially problematic terms like:
  * Limitation of liability - Provider limits liability for damages
  * Unilateral termination - Provider can terminate without cause
  * Unilateral change - Provider can change terms unilaterally
  * Arbitration - Disputes must go to arbitration (not court)
  * Content removal - Provider can remove/delete user content
  * Choice of law - Specifies jurisdiction's laws apply
  * Contract by using - Using service creates binding contract
  * Jurisdiction - Specifies where disputes must be filed
  * Other potentially unfair terms

EVALUATION SYSTEM (INVARIANT):
- Extracts binary labels from: "CLASSIFICATION: FAIR/UNFAIR", "LABEL: 0/1", keywords "fair"/"unfair", or numbers 0/1
- Handles negations: "not unfair" → FAIR, "not fair" → UNFAIR
- EXACT MATCH required: Predicted label must match true label
- **Primary metric: MACRO-F1 (average F1 of FAIR and UNFAIR classes)** - standard for CLAUDETTE benchmark
- Dataset has ~9:1 FAIR:UNFAIR ratio, so Macro-F1 ensures both classes are weighted equally
- Secondary metrics: Unfair-F1, Precision (avoid false positives), Recall (catch all unfair clauses), Accuracy
- Common failures: over-classifying neutral text as unfair (false positives), unclear output format, missing subtle unfair terms (false negatives), not reasoning before classification, ignoring FAIR class performance


EXTRACTION DETAILS (INVARIANT — how answers are parsed):
- Highest priority: explicit structured labels (case-insensitive) ANYWHERE:
  "label|classification|answer|prediction: 0|1" or ": unfair" / ": fair",
  and "final answer|label|classification: 0|1|unfair|fair"
- Negations handled BEFORE keyword matching: "not unfair" ⇒ FAIR (0), "not fair" ⇒ UNFAIR (1)
- If no structured label: the conclusion region (last ~200 chars) is searched for affirmative statements like
  "is|likely|probably ... unfair/fair", "classified as unfair/fair", "conclusion: unfair/fair"
- Next fallback: in the last ~100 chars, standalone word "unfair" ⇒ 1, standalone word "fair" ⇒ 0
  (ignored if part of "unfair" or preceded by negation)
- Then: last number 0/1 found in the last ~100 chars ⇒ label
- Very short outputs (<20 chars): simple keywords or just "0"/"1" are accepted
- Final fallback: if nothing matches, defaults to FAIR (0)
- Best practice: END your output with EXACT one final line "CLASSIFICATION: FAIR" or "CLASSIFICATION: UNFAIR" — with no text after — to avoid false positives from explanatory text.

PREVIOUS PROMPTS AND SCORES:
{scored_prompts}

YOUR TASK:
Generate a NEW instruction prompt that will achieve HIGHER MACRO-F1 score (balanced performance on BOTH Fair and Unfair classes).

REQUIREMENTS:
1. Each prompt must be 2-4 sentences
2. Must instruct to provide answer in format "CLASSIFICATION: FAIR" or "CLASSIFICATION: UNFAIR"
3. Must emphasize BALANCED classification (don't over-predict FAIR or UNFAIR - both classes matter for Macro-F1)
4. **MUST require step-by-step reasoning BEFORE the final label** - the model should first analyze the clause, state why it is fair OR which specific term makes it unfair (e.g., "Reason: Contains unilateral termination clause."), and only then provide the "CLASSIFICATION: ..." line
5. **MUST strongly emphasize distinguishing neutral legal boilerplate (which is FAIR) from clauses that actively disadvantage the user (which are UNFAIR)** - many FAIR clauses are not "nice", they are just standard legal text that doesn't impose unfair terms
6. Should help distinguish unfair clauses from neutral/informational text (headers, metadata, general terms)
7. Should provide guidance on identifying both FAIR and UNFAIR characteristics
8. Each prompt must be DIFFERENT from previous ones
9. Explore different strategies (reasoning-first with explicit justification, checklist approach, legal analysis, balanced classification to maximize Macro-F1)

OUTPUT FORMAT:
Write EXACTLY ONE prompt.
NO numbering, NO bullet points, NO explanations.
JUST the instruction prompt itself.

EXAMPLE OUTPUT:
Analyze this Terms of Service clause step-by-step. First, identify if it contains any unfair terms (liability limits, forced arbitration, unilateral changes, etc.) or if it's just neutral legal boilerplate. State your reasoning explicitly (e.g., "Reason: Standard informational text" or "Reason: Contains limitation of liability clause"). Then provide: CLASSIFICATION: FAIR or CLASSIFICATION: UNFAIR

NOW GENERATE YOUR NEW PROMPT: